{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\GavelProjects\\\\JusticeClock\\\\JusticeClock\\\\WebApplication\\\\_CrossBasement\\\\CrossCore\\\\components\\\\Table\\\\web\\\\index.js\";\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useRef, useMemo, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport CIcon from '@coreui/icons-react';\nimport { cilArrowTop, cilBan, cilFilterX } from '@coreui/icons';\nimport style from \"./AdvancedTable.module.css\";\nimport \"./AdvancedTable.css\";\nimport { Table, Thead, Tbody, Tr, Th, Td } from \"./super-responsive-table\";\nimport \"./ResponsiveTable.css\";\nimport { CElementCover, CPagination, CCol, CLabel, CInput } from '@coreui/react';\nimport { useMediaQuery } from 'react-responsive';\nvar accentsMap = {\n  a: 'á|à|ã|â|À|Á|Ã|Â',\n  e: 'é|è|ê|É|È|Ê',\n  i: 'í|ì|î|Í|Ì|Î',\n  o: 'ó|ò|ô|õ|Ó|Ò|Ô|Õ',\n  u: 'ú|ù|û|ü|Ú|Ù|Û|Ü',\n  c: 'ç|Ç',\n  n: 'ñ|Ñ'\n};\nexport var slugify = function slugify(str) {\n  return str.normalize('NFD').replace(/([\\u0300-\\u036f]|[^0-9a-zA-Z\\s])/g, '');\n};\nexport var AdvancedTable = function AdvancedTable(props) {\n  var _ref3;\n\n  var innerRef = props.innerRef,\n      overTableSlot = props.overTableSlot,\n      columnHeaderSlot = props.columnHeaderSlot,\n      sortingIconSlot = props.sortingIconSlot,\n      columnFilterSlot = props.columnFilterSlot,\n      noItemsViewSlot = props.noItemsViewSlot,\n      noItemsView = props.noItemsView,\n      captionSlot = props.captionSlot,\n      footerSlot = props.footerSlot,\n      underTableSlot = props.underTableSlot,\n      theadTopSlot = props.theadTopSlot,\n      loadingSlot = props.loadingSlot,\n      scopedSlots = props.scopedSlots,\n      loading = props.loading,\n      fields = props.fields,\n      pagination = props.pagination,\n      activePage = props.activePage,\n      itemsPerPage = props.itemsPerPage,\n      items = props.items,\n      sorter = props.sorter,\n      header = props.header,\n      clickableRows = props.clickableRows,\n      columnFilter = props.columnFilter,\n      tableFilterValue = props.tableFilterValue,\n      tableFilter = props.tableFilter,\n      cleaner = props.cleaner,\n      addTableClasses = props.addTableClasses,\n      size = props.size,\n      dark = props.dark,\n      striped = props.striped,\n      hover = props.hover,\n      border = props.border,\n      outlined = props.outlined,\n      responsive = props.responsive,\n      footer = props.footer,\n      itemsPerPageSelect = props.itemsPerPageSelect,\n      sorterValue = props.sorterValue,\n      columnFilterValue = props.columnFilterValue,\n      onRowClick = props.onRowClick,\n      onSorterValueChange = props.onSorterValueChange,\n      onPaginationChange = props.onPaginationChange,\n      onColumnFilterChange = props.onColumnFilterChange,\n      onPagesChange = props.onPagesChange,\n      onTableFilterChange = props.onTableFilterChange,\n      onPageChange = props.onPageChange,\n      onFilteredItemsChange = props.onFilteredItemsChange;\n  var compData = useRef({\n    firstRun: true,\n    columnFiltered: 0,\n    changeItems: 0\n  }).current;\n\n  var _useState = useState(itemsPerPage),\n      perPageItems = _useState[0],\n      setPerPageItems = _useState[1];\n\n  var _useState2 = useState(sorterValue || {}),\n      sorterState = _useState2[0],\n      setSorterState = _useState2[1];\n\n  var _useState3 = useState(tableFilterValue),\n      tableFilterState = _useState3[0],\n      setTableFilterState = _useState3[1];\n\n  var _useState4 = useState(columnFilterValue || {}),\n      columnFilterState = _useState4[0],\n      setColumnFilterState = _useState4[1];\n\n  var _useState5 = useState(activePage || 1),\n      page = _useState5[0],\n      setPage = _useState5[1];\n\n  var _useState6 = useState(items || []),\n      passedItems = _useState6[0],\n      setPassedItems = _useState6[1];\n\n  var isMobile = useMediaQuery({\n    maxWidth: '40em'\n  });\n\n  var cellClass = function cellClass(item, colName, index) {\n    var classes = [];\n\n    if (item._cellClasses && item._cellClasses[colName]) {\n      classes.push(item._cellClasses[colName]);\n    }\n\n    if (fields && fields[index]._classes) {\n      classes.push(fields[index]._classes);\n    }\n\n    return classes;\n  };\n\n  var pretifyName = function pretifyName(name) {\n    return name.replace(/[-_.]/g, ' ').replace(/ +/g, ' ').replace(/([a-z0-9])([A-Z])/g, '$1 $2').split(' ').map(function (word) {\n      return word.charAt(0).toUpperCase() + word.slice(1);\n    }).join(' ');\n  };\n\n  var headerClass = function headerClass(i) {\n    return fields && fields[i]._classes && fields[i]._classes;\n  };\n\n  var isSortable = function isSortable(i) {\n    var isDataColumn = itemsDataColumns.includes(rawColumnNames[i]);\n    return sorter && (!fields || fields[i].sorter !== false) && isDataColumn;\n  };\n\n  var headerStyles = function headerStyles(index) {\n    var style = {\n      verticalAlign: 'middle',\n      overflow: 'hidden'\n    };\n\n    if (isSortable(index)) {\n      style.cursor = 'pointer';\n    }\n\n    if (fields && fields[index] && fields[index]._style) {\n      return _objectSpread({}, style, {}, fields[index]._style);\n    }\n\n    return style;\n  };\n\n  var getIconState = function getIconState(index) {\n    var direction = sorterState.asc ? 'asc' : 'desc';\n    return rawColumnNames[index] === sorterState.column ? direction : 0;\n  };\n\n  var iconClasses = function iconClasses(index) {\n    var state = getIconState(index);\n    return ['position-absolute', style['icon-transition'], style['arrow-position'], !state && style['transparent'], state === 'desc' && style['rotate-icon']];\n  };\n\n  var rowClicked = function rowClicked(item, index, e) {\n    var detailsClick = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n    onRowClick && onRowClick(item, index, getClickedColumnName(e, detailsClick), e);\n  };\n\n  var changeSort = function changeSort(column, index) {\n    if (!isSortable(index)) {\n      return;\n    }\n\n    var state = sorterState;\n    var columnRepeated = state.column === column;\n\n    if (!sorter || !sorter.resetable) {\n      state.column = column;\n    } else {\n      state.column = columnRepeated && state.asc === false ? null : column;\n    }\n\n    state.asc = !(columnRepeated && state.asc);\n    setSorterState(_objectSpread({}, state));\n  };\n\n  useEffect(function () {\n    onSorterValueChange && onSorterValueChange(sorterState);\n  }, [JSON.stringify(sorterState)]);\n\n  var paginationChange = function paginationChange(e) {\n    onPaginationChange && onPaginationChange(Number(e.target.value));\n    !itemsPerPageSelect.external && setPerPageItems(Number(e.target.value));\n  };\n\n  var columnFilterEvent = function columnFilterEvent(colName, value, type) {\n    var isLazy = columnFilter && columnFilter.lazy === true;\n\n    if (isLazy && type === 'input' || !isLazy && type === 'change') {\n      return;\n    }\n\n    var newState = _objectSpread({}, columnFilterState, _defineProperty({}, \"\".concat(colName), value));\n\n    setColumnFilterState(newState);\n  };\n\n  useEffect(function () {\n    onColumnFilterChange && onColumnFilterChange(columnFilterState);\n  }, [JSON.stringify(columnFilterState)]);\n\n  var tableFilterChange = function tableFilterChange(value, type) {\n    var isLazy = tableFilter && tableFilter.lazy === true;\n\n    if (isLazy && type === 'input' || !isLazy && type === 'change') {\n      return;\n    }\n\n    setTableFilterState(value);\n  };\n\n  useEffect(function () {\n    onTableFilterChange && onTableFilterChange(tableFilterState);\n  }, [tableFilterState]);\n\n  var getClickedColumnName = function getClickedColumnName(e, detailsClick) {\n    if (detailsClick) {\n      return 'details';\n    } else {\n      var children = Array.from(e.target.closest('tr').children);\n      var clickedCell = children.filter(function (child) {\n        return child.contains(e.target);\n      })[0];\n      return rawColumnNames[children.indexOf(clickedCell)];\n    }\n  };\n\n  var clean = function clean() {\n    setTableFilterState('');\n    setColumnFilterState({});\n    setSorterState({\n      column: '',\n      asc: true\n    });\n  };\n\n  var genCols = Object.keys(passedItems[0] || {}).filter(function (el) {\n    return el.charAt(0) !== '_';\n  });\n  var rawColumnNames = fields ? fields.map(function (el) {\n    return el.key || el;\n  }) : genCols;\n  var itemsDataColumns = rawColumnNames.filter(function (name) {\n    return genCols.includes(name);\n  });\n  useMemo(function () {\n    compData.columnFiltered++;\n  }, [JSON.stringify(columnFilter), JSON.stringify(columnFilterState), itemsDataColumns.join(''), compData.changeItems]);\n  var columnFiltered = useMemo(function () {\n    var items = passedItems;\n\n    if (columnFilter && columnFilter.external) {\n      return items;\n    }\n\n    Object.entries(columnFilterState).forEach(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n          key = _ref2[0],\n          value = _ref2[1];\n\n      var columnFilter = String(value).toLowerCase();\n\n      if (columnFilter && itemsDataColumns.includes(key)) {\n        items = items.filter(function (item) {\n          return slugify(String(item[key]).toLowerCase()).includes(columnFilter);\n        });\n      }\n    });\n    return items;\n  }, [compData.columnFiltered]);\n  var tableFiltered = useMemo(function () {\n    var items = columnFiltered;\n\n    if (!tableFilterState || tableFilter && tableFilter.external) {\n      return items;\n    }\n\n    var filter = tableFilterState.toLowerCase();\n\n    var valueContainFilter = function valueContainFilter(val) {\n      return String(val).toLowerCase().includes(filter);\n    };\n\n    items = items.filter(function (item) {\n      return !!itemsDataColumns.find(function (key) {\n        return valueContainFilter(item[key]);\n      });\n    });\n    return items;\n  }, [compData.columnFiltered, tableFilterState, JSON.stringify(tableFilter)]);\n  var sortedItems = useMemo(function () {\n    var col = sorterState.column;\n\n    if (!col || !itemsDataColumns.includes(col) || sorter && sorter.external) {\n      return tableFiltered;\n    }\n\n    var flip = sorterState.asc ? 1 : -1;\n    var sorted = tableFiltered.slice().sort(function (item, item2) {\n      var value = item[col];\n      var value2 = item2[col];\n      var a = typeof value === 'number' ? value : String(value).toLowerCase();\n      var b = typeof value2 === 'number' ? value2 : String(value2).toLowerCase();\n      return a > b ? 1 * flip : b > a ? -1 * flip : 0;\n    });\n    return sorted;\n  }, [JSON.stringify(tableFiltered), JSON.stringify(sorterState), JSON.stringify(sorter)]);\n  useEffect(function () {\n    !compData.firstRun && onFilteredItemsChange && onFilteredItemsChange(sortedItems);\n  }, [JSON.stringify(sortedItems)]);\n  var tableClasses = ['table', (_ref3 = {}, _defineProperty(_ref3, \"table-\".concat(size), size), _defineProperty(_ref3, 'table-dark', dark), _defineProperty(_ref3, 'table-striped', striped), _defineProperty(_ref3, 'table-hover', hover), _defineProperty(_ref3, 'table-bordered', border), _defineProperty(_ref3, 'border', outlined), _ref3), addTableClasses];\n  var columnNames = useMemo(function () {\n    if (fields) {\n      return fields.map(function (f) {\n        return f.label !== undefined ? f.label : pretifyName(f.key || f);\n      });\n    }\n\n    return rawColumnNames.map(function (el) {\n      return pretifyName(el);\n    });\n  }, [fields, rawColumnNames]);\n  var sortingIconStyles = sorter && 'position-relative pr-4';\n  var colspan = rawColumnNames.length;\n  var totalPages = Math.ceil(sortedItems.length / perPageItems) || 1;\n  useMemo(function () {\n    !compData.firstRun && onPagesChange && onPagesChange(totalPages);\n  }, [totalPages]);\n  var computedPage = useMemo(function () {\n    var compPage = pagination ? page : activePage;\n    !compData.firstRun && onPageChange && onPageChange(compPage);\n    return compPage;\n  }, [page, activePage, pagination]);\n  var firstItemIndex = (computedPage - 1) * perPageItems || 0;\n  var paginatedItems = sortedItems.slice(firstItemIndex, firstItemIndex + perPageItems);\n  var currentItems = computedPage ? paginatedItems : sortedItems;\n  var tableFilterData = {\n    label: tableFilter && tableFilter.label || 'Filter:',\n    placeholder: tableFilter && tableFilter.placeholder || 'type string...'\n  };\n  var paginationSelect = {\n    label: itemsPerPageSelect && itemsPerPageSelect.label || 'Items per page:',\n    values: itemsPerPageSelect && itemsPerPageSelect.values || [5, 10, 20, 50]\n  };\n\n  var noItemsText = function () {\n    var customValues = noItemsView || {};\n\n    if (passedItems.length) {\n      return customValues.noResults || 'No filtering results';\n    }\n\n    return customValues.noItems || 'No items';\n  }();\n\n  var isFiltered = tableFilterState || sorterState.column || Object.values(columnFilterState).join('');\n  var cleanerProps = {\n    content: cilFilterX,\n    className: \"mfs-2 \".concat(isFiltered ? 'text-danger' : 'transparent'),\n    role: isFiltered ? 'button' : null,\n    tabIndex: isFiltered ? 0 : null\n  };\n  useMemo(function () {\n    return setPerPageItems(itemsPerPage);\n  }, [itemsPerPage]);\n  useMemo(function () {\n    return setSorterState(_objectSpread({}, sorterValue));\n  }, [sorterValue]);\n  useMemo(function () {\n    return setTableFilterState(tableFilterValue);\n  }, [tableFilterValue]);\n  useMemo(function () {\n    return setColumnFilterState(_objectSpread({}, columnFilterValue));\n  }, [columnFilterValue]);\n  useMemo(function () {\n    if (items && !compData.firstRun && (items.length !== passedItems.length || JSON.stringify(items) !== JSON.stringify(passedItems))) {\n      setPassedItems(items);\n      compData.changeItems++;\n    }\n  });\n  compData.firstRun = false;\n  var paginationProps = typeof pagination === 'object' ? pagination : null;\n\n  var headerContent = __jsx(Tr, {\n    className: \"card-body\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 379,\n      columnNumber: 9\n    }\n  }, columnNames.map(function (name, index) {\n    return __jsx(Th, {\n      onClick: function onClick() {\n        changeSort(rawColumnNames[index], index);\n      },\n      className: classNames([headerClass(index), sortingIconStyles]),\n      style: headerStyles(index),\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 21\n      }\n    }, columnHeaderSlot[\"\".concat(rawColumnNames[index])] || __jsx(\"div\", {\n      className: \"d-inline\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 74\n      }\n    }, name), isSortable(index) && (sortingIconSlot && sortingIconSlot(getIconState(index), iconClasses(index)) || __jsx(CIcon, {\n      customClasses: classNames(iconClasses(index)),\n      width: 18,\n      content: cilArrowTop,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 33\n      }\n    })));\n  }));\n\n  return __jsx(React.Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 406,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    ref: innerRef,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 407,\n      columnNumber: 13\n    }\n  }, (itemsPerPageSelect || tableFilter || cleaner) && __jsx(\"div\", {\n    className: \"row my-2 mx-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 409,\n      columnNumber: 21\n    }\n  }, (tableFilter || cleaner) && __jsx(\"div\", {\n    className: \"col-sm-6 form-inline p-0 c-datatable-filter\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 411,\n      columnNumber: 29\n    }\n  }, tableFilter && __jsx(React.Fragment, null, __jsx(\"label\", {\n    className: \"mfe-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 41\n    }\n  }, tableFilterData.label), __jsx(\"input\", {\n    className: \"form-control\",\n    type: \"text\",\n    placeholder: tableFilterData.placeholder,\n    onInput: function onInput(e) {\n      tableFilterChange(e.target.value, 'input');\n    },\n    onChange: function onChange(e) {\n      tableFilterChange(e.target.value, 'change');\n    },\n    value: tableFilterState || '',\n    \"aria-label\": \"table filter input\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 41\n    }\n  })), cleaner && (typeof cleaner === 'function' ? cleaner(clean, isFiltered, cleanerProps) : __jsx(CIcon, _extends({}, cleanerProps, {\n    onClick: clean,\n    onKeyUp: function onKeyUp(event) {\n      if (event.key === 'Enter') clean();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 434,\n      columnNumber: 41\n    }\n  })))), itemsPerPageSelect && __jsx(\"div\", {\n    className: \"col-sm-6 p-0 \".concat(tableFilter || cleaner ? '' : 'offset-sm-6'),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 445,\n      columnNumber: 29\n    }\n  }, __jsx(\"div\", {\n    className: \"form-inline justify-content-sm-end c-datatable-items-per-page\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 446,\n      columnNumber: 33\n    }\n  }, __jsx(\"label\", {\n    className: \"mfe-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 447,\n      columnNumber: 37\n    }\n  }, paginationSelect.label), __jsx(\"select\", {\n    className: \"form-control\",\n    onChange: paginationChange,\n    \"aria-label\": \"changes number of visible items\",\n    value: perPageItems,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 448,\n      columnNumber: 37\n    }\n  }, paginationSelect.values.map(function (number, key) {\n    return __jsx(\"option\", {\n      val: number,\n      key: key,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 456,\n        columnNumber: 49\n      }\n    }, number);\n  })))))), overTableSlot, __jsx(\"div\", {\n    className: \"position-relative \".concat(responsive && 'table-responsive'),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 471,\n      columnNumber: 13\n    }\n  }, isMobile && columnFilter && __jsx(\"div\", {\n    className: \"mb-5 mt-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 473,\n      columnNumber: 21\n    }\n  }, rawColumnNames.map(function (colName, index) {\n    return __jsx(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 476,\n        columnNumber: 33\n      }\n    }, columnFilterSlot[\"\".concat(rawColumnNames[index])] || (!fields || fields[index].filter !== false) && __jsx(\"div\", {\n      className: \"mb-3\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 479,\n        columnNumber: 45\n      }\n    }, __jsx(CLabel, {\n      htmlFor: \"code\",\n      className: classNames(headerClass(index)),\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 480,\n        columnNumber: 49\n      }\n    }, fields[index].label), __jsx(\"input\", {\n      className: \"form-control form-control-sm\",\n      onInput: function onInput(e) {\n        columnFilterEvent(colName, e.target.value, 'input');\n      },\n      onChange: function onChange(e) {\n        columnFilterEvent(colName, e.target.value, 'change');\n      },\n      value: columnFilterState[colName] || '',\n      \"aria-label\": \"column name: '\".concat(colName, \"' filter input\"),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 487,\n        columnNumber: 49\n      }\n    })));\n  })), __jsx(Table, {\n    className: classNames(tableClasses),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 505,\n      columnNumber: 17\n    }\n  }, !isMobile ? __jsx(Thead, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 507,\n      columnNumber: 25\n    }\n  }, __jsx(React.Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 508,\n      columnNumber: 29\n    }\n  }, theadTopSlot, header && headerContent, columnFilter && __jsx(Tr, {\n    className: \"table-sm\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 512,\n      columnNumber: 37\n    }\n  }, rawColumnNames.map(function (colName, index) {\n    return __jsx(Th, {\n      className: classNames(headerClass(index)),\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 515,\n        columnNumber: 49\n      }\n    }, columnFilterSlot[\"\".concat(rawColumnNames[index])] || (!fields || fields[index].filter !== false) && __jsx(\"input\", {\n      className: \"form-control form-control-sm\",\n      onInput: function onInput(e) {\n        columnFilterEvent(colName, e.target.value, 'input');\n      },\n      onChange: function onChange(e) {\n        columnFilterEvent(colName, e.target.value, 'change');\n      },\n      value: columnFilterState[colName] || '',\n      \"aria-label\": \"column name: '\".concat(colName, \"' filter input\"),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 518,\n        columnNumber: 61\n      }\n    }));\n  })))) : __jsx(Thead, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 542,\n      columnNumber: 25\n    }\n  }, header && headerContent), __jsx(Tbody, {\n    style: clickableRows && {\n      cursor: 'pointer'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 544,\n      columnNumber: 21\n    }\n  }, currentItems.map(function (item, itemIndex) {\n    return __jsx(React.Fragment, {\n      key: itemIndex,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 547,\n        columnNumber: 33\n      }\n    }, __jsx(Tr, {\n      className: classNames(item._classes),\n      tabIndex: clickableRows && 0,\n      onClick: function onClick(e) {\n        rowClicked(item, itemIndex + firstItemIndex, e);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 548,\n        columnNumber: 37\n      }\n    }, rawColumnNames.map(function (colName, index) {\n      return scopedSlots[colName] && React.cloneElement(scopedSlots[colName](item, itemIndex + firstItemIndex), {\n        key: index\n      }) || __jsx(Td, {\n        className: classNames(cellClass(item, colName, index)),\n        key: index,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 562,\n          columnNumber: 53\n        }\n      }, String(item[colName]));\n    })), scopedSlots.details && __jsx(Tr, {\n      onClick: function onClick(e) {\n        rowClicked(item, itemIndex + firstItemIndex, e, true);\n      },\n      className: \"p-0\",\n      style: {\n        border: 'none !important'\n      },\n      key: 'details' + itemIndex,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 573,\n        columnNumber: 41\n      }\n    }, __jsx(Td, {\n      colSpan: colspan,\n      className: \"p-0\",\n      style: {\n        border: 'none !important'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 581,\n        columnNumber: 45\n      }\n    }, scopedSlots.details(item, itemIndex + firstItemIndex))));\n  }), !currentItems.length && __jsx(Tr, {\n    className: \"card-body\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 590,\n      columnNumber: 29\n    }\n  }, __jsx(Td, {\n    colSpan: colspan,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 591,\n      columnNumber: 33\n    }\n  }, noItemsViewSlot || __jsx(\"div\", {\n    className: \"text-center my-5\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 593,\n      columnNumber: 41\n    }\n  }, __jsx(\"h2\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 594,\n      columnNumber: 45\n    }\n  }, noItemsText + ' ', __jsx(CIcon, {\n    width: \"30\",\n    name: \"cilBan\",\n    content: cilBan,\n    className: \"text-danger mb-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 596,\n      columnNumber: 49\n    }\n  })))))), footer && currentItems.length > 0 && __jsx(\"tfoot\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 609,\n      columnNumber: 59\n    }\n  }, headerContent), footerSlot, captionSlot), loading && (loadingSlot || __jsx(CElementCover, {\n    boundaries: [{\n      sides: ['top'],\n      query: 'td'\n    }, {\n      sides: ['bottom'],\n      query: 'tbody'\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 615,\n      columnNumber: 25\n    }\n  }))), underTableSlot, pagination && __jsx(CPagination, _extends({\n    style: {\n      display: totalPages > 1 ? 'inline' : 'none'\n    },\n    onActivePageChange: function onActivePageChange(page) {\n      setPage(page);\n    },\n    pages: totalPages,\n    activePage: page\n  }, paginationProps, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 627,\n      columnNumber: 17\n    }\n  })));\n};\nAdvancedTable.propTypes = {\n  innerRef: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n  overTableSlot: PropTypes.node,\n  columnHeaderSlot: PropTypes.object,\n  sortingIconSlot: PropTypes.func,\n  columnFilterSlot: PropTypes.object,\n  noItemsViewSlot: PropTypes.node,\n  noItemsView: PropTypes.object,\n  captionSlot: PropTypes.node,\n  footerSlot: PropTypes.node,\n  underTableSlot: PropTypes.node,\n  scopedSlots: PropTypes.object,\n  theadTopSlot: PropTypes.node,\n  loadingSlot: PropTypes.node,\n  loading: PropTypes.bool,\n  fields: PropTypes.array,\n  pagination: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n  activePage: PropTypes.number,\n  itemsPerPage: PropTypes.number,\n  items: PropTypes.array,\n  sorter: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n  clickableRows: PropTypes.bool,\n  columnFilter: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n  tableFilterValue: PropTypes.string,\n  tableFilter: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n  cleaner: PropTypes.oneOfType([PropTypes.bool, PropTypes.func]),\n  addTableClasses: PropTypes.oneOfType([PropTypes.string, PropTypes.array, PropTypes.object]),\n  size: PropTypes.string,\n  dark: PropTypes.bool,\n  striped: PropTypes.bool,\n  hover: PropTypes.bool,\n  border: PropTypes.bool,\n  outlined: PropTypes.bool,\n  responsive: PropTypes.bool,\n  footer: PropTypes.bool,\n  itemsPerPageSelect: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n  sorterValue: PropTypes.object,\n  columnFilterValue: PropTypes.object,\n  header: PropTypes.bool,\n  onRowClick: PropTypes.func,\n  onSorterValueChange: PropTypes.func,\n  onPaginationChange: PropTypes.func,\n  onColumnFilterChange: PropTypes.func,\n  onPagesChange: PropTypes.func,\n  onTableFilterChange: PropTypes.func,\n  onPageChange: PropTypes.func,\n  onFilteredItemsChange: PropTypes.func\n};\nAdvancedTable.defaultProps = {\n  itemsPerPage: 10,\n  responsive: true,\n  columnHeaderSlot: {},\n  columnFilterSlot: {},\n  scopedSlots: {},\n  sorterValue: {},\n  header: true\n};\nexport default AdvancedTable;","map":{"version":3,"sources":["C:/GavelProjects/JusticeClock/JusticeClock/WebApplication/_CrossBasement/CrossCore/components/Table/web/index.js"],"names":["React","useState","useRef","useMemo","useEffect","PropTypes","classNames","CIcon","cilArrowTop","cilBan","cilFilterX","style","Table","Thead","Tbody","Tr","Th","Td","CElementCover","CPagination","CCol","CLabel","CInput","useMediaQuery","accentsMap","a","e","i","o","u","c","n","slugify","str","normalize","replace","AdvancedTable","props","innerRef","overTableSlot","columnHeaderSlot","sortingIconSlot","columnFilterSlot","noItemsViewSlot","noItemsView","captionSlot","footerSlot","underTableSlot","theadTopSlot","loadingSlot","scopedSlots","loading","fields","pagination","activePage","itemsPerPage","items","sorter","header","clickableRows","columnFilter","tableFilterValue","tableFilter","cleaner","addTableClasses","size","dark","striped","hover","border","outlined","responsive","footer","itemsPerPageSelect","sorterValue","columnFilterValue","onRowClick","onSorterValueChange","onPaginationChange","onColumnFilterChange","onPagesChange","onTableFilterChange","onPageChange","onFilteredItemsChange","compData","firstRun","columnFiltered","changeItems","current","perPageItems","setPerPageItems","sorterState","setSorterState","tableFilterState","setTableFilterState","columnFilterState","setColumnFilterState","page","setPage","passedItems","setPassedItems","isMobile","maxWidth","cellClass","item","colName","index","classes","_cellClasses","push","_classes","pretifyName","name","split","map","word","charAt","toUpperCase","slice","join","headerClass","isSortable","isDataColumn","itemsDataColumns","includes","rawColumnNames","headerStyles","verticalAlign","overflow","cursor","_style","getIconState","direction","asc","column","iconClasses","state","rowClicked","detailsClick","getClickedColumnName","changeSort","columnRepeated","resetable","JSON","stringify","paginationChange","Number","target","value","external","columnFilterEvent","type","isLazy","lazy","newState","tableFilterChange","children","Array","from","closest","clickedCell","filter","child","contains","indexOf","clean","genCols","Object","keys","el","key","entries","forEach","String","toLowerCase","tableFiltered","valueContainFilter","val","find","sortedItems","col","flip","sorted","sort","item2","value2","b","tableClasses","columnNames","f","label","undefined","sortingIconStyles","colspan","length","totalPages","Math","ceil","computedPage","compPage","firstItemIndex","paginatedItems","currentItems","tableFilterData","placeholder","paginationSelect","values","noItemsText","customValues","noResults","noItems","isFiltered","cleanerProps","content","className","role","tabIndex","paginationProps","headerContent","event","number","itemIndex","cloneElement","details","sides","query","display","propTypes","oneOfType","object","func","node","bool","array","string","defaultProps"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useMemo, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport CIcon from '@coreui/icons-react';\nimport { cilArrowTop, cilBan, cilFilterX } from '@coreui/icons';\nimport style from './AdvancedTable.module.css';\nimport './AdvancedTable.css';\nimport { Table, Thead, Tbody, Tr, Th, Td } from './super-responsive-table';\nimport './ResponsiveTable.css';\nimport { CElementCover, CPagination, CCol, CLabel, CInput } from '@coreui/react';\nimport { useMediaQuery } from 'react-responsive';\n\n//component - CoreUI / CTable\nconst accentsMap = {\n    a: 'á|à|ã|â|À|Á|Ã|Â',\n    e: 'é|è|ê|É|È|Ê',\n    i: 'í|ì|î|Í|Ì|Î',\n    o: 'ó|ò|ô|õ|Ó|Ò|Ô|Õ',\n    u: 'ú|ù|û|ü|Ú|Ù|Û|Ü',\n    c: 'ç|Ç',\n    n: 'ñ|Ñ',\n};\n\nexport const slugify = (str) => str.normalize('NFD').replace(/([\\u0300-\\u036f]|[^0-9a-zA-Z\\s])/g, '');\nexport const AdvancedTable = (props) => {\n    const {\n        //\n        innerRef,\n        overTableSlot,\n        columnHeaderSlot,\n        sortingIconSlot,\n        columnFilterSlot,\n        noItemsViewSlot,\n        noItemsView,\n        captionSlot,\n        footerSlot,\n        underTableSlot,\n        theadTopSlot,\n        loadingSlot,\n        scopedSlots,\n        loading,\n        fields,\n        pagination,\n        activePage,\n        itemsPerPage,\n        items,\n        sorter,\n        header,\n        clickableRows,\n        columnFilter,\n        tableFilterValue,\n        tableFilter,\n        cleaner,\n        addTableClasses,\n        size,\n        dark,\n        striped,\n        hover,\n        border,\n        outlined,\n        responsive,\n        footer,\n        itemsPerPageSelect,\n        sorterValue,\n        columnFilterValue,\n        onRowClick,\n        onSorterValueChange,\n        onPaginationChange,\n        onColumnFilterChange,\n        onPagesChange,\n        onTableFilterChange,\n        onPageChange,\n        onFilteredItemsChange,\n    } = props;\n\n    const compData = useRef({ firstRun: true, columnFiltered: 0, changeItems: 0 }).current;\n\n    //\n    const [perPageItems, setPerPageItems] = useState(itemsPerPage);\n    const [sorterState, setSorterState] = useState(sorterValue || {});\n    const [tableFilterState, setTableFilterState] = useState(tableFilterValue);\n    const [columnFilterState, setColumnFilterState] = useState(columnFilterValue || {});\n    const [page, setPage] = useState(activePage || 1);\n    const [passedItems, setPassedItems] = useState(items || []);\n    const isMobile = useMediaQuery({ maxWidth: '40em' });\n    // functions\n\n    const cellClass = (item, colName, index) => {\n        let classes = [];\n        if (item._cellClasses && item._cellClasses[colName]) {\n            classes.push(item._cellClasses[colName]);\n        }\n        if (fields && fields[index]._classes) {\n            classes.push(fields[index]._classes);\n        }\n        return classes;\n    };\n\n    const pretifyName = (name) => {\n        return name\n            .replace(/[-_.]/g, ' ')\n            .replace(/ +/g, ' ')\n            .replace(/([a-z0-9])([A-Z])/g, '$1 $2')\n            .split(' ')\n            .map((word) => word.charAt(0).toUpperCase() + word.slice(1))\n            .join(' ');\n    };\n\n    const headerClass = (i) => fields && fields[i]._classes && fields[i]._classes;\n\n    const isSortable = (i) => {\n        const isDataColumn = itemsDataColumns.includes(rawColumnNames[i]);\n        return sorter && (!fields || fields[i].sorter !== false) && isDataColumn;\n    };\n\n    const headerStyles = (index) => {\n        let style = { verticalAlign: 'middle', overflow: 'hidden' };\n        if (isSortable(index)) {\n            style.cursor = 'pointer';\n        }\n        if (fields && fields[index] && fields[index]._style) {\n            return { ...style, ...fields[index]._style };\n        }\n        return style;\n    };\n\n    const getIconState = (index) => {\n        const direction = sorterState.asc ? 'asc' : 'desc';\n        return rawColumnNames[index] === sorterState.column ? direction : 0;\n    };\n\n    const iconClasses = (index) => {\n        const state = getIconState(index);\n        return [\n            'position-absolute',\n            style['icon-transition'],\n            style['arrow-position'],\n            !state && style['transparent'],\n            state === 'desc' && style['rotate-icon'],\n        ];\n    };\n\n    const rowClicked = (item, index, e, detailsClick = false) => {\n        onRowClick && onRowClick(item, index, getClickedColumnName(e, detailsClick), e);\n    };\n\n    const changeSort = (column, index) => {\n        if (!isSortable(index)) {\n            return;\n        }\n        //if column changed or sort was descending change asc to true\n        const state = sorterState;\n        const columnRepeated = state.column === column;\n        if (!sorter || !sorter.resetable) {\n            state.column = column;\n        } else {\n            state.column = columnRepeated && state.asc === false ? null : column;\n        }\n        state.asc = !(columnRepeated && state.asc);\n        setSorterState({ ...state });\n    };\n\n    useEffect(() => {\n        onSorterValueChange && onSorterValueChange(sorterState);\n    }, [JSON.stringify(sorterState)]);\n\n    const paginationChange = (e) => {\n        onPaginationChange && onPaginationChange(Number(e.target.value));\n        !itemsPerPageSelect.external && setPerPageItems(Number(e.target.value));\n    };\n\n    const columnFilterEvent = (colName, value, type) => {\n        const isLazy = columnFilter && columnFilter.lazy === true;\n        if ((isLazy && type === 'input') || (!isLazy && type === 'change')) {\n            return;\n        }\n        const newState = { ...columnFilterState, [`${colName}`]: value };\n        setColumnFilterState(newState);\n    };\n\n    useEffect(() => {\n        onColumnFilterChange && onColumnFilterChange(columnFilterState);\n    }, [JSON.stringify(columnFilterState)]);\n\n    const tableFilterChange = (value, type) => {\n        const isLazy = tableFilter && tableFilter.lazy === true;\n        if ((isLazy && type === 'input') || (!isLazy && type === 'change')) {\n            return;\n        }\n        setTableFilterState(value);\n    };\n\n    useEffect(() => {\n        onTableFilterChange && onTableFilterChange(tableFilterState);\n    }, [tableFilterState]);\n\n    const getClickedColumnName = (e, detailsClick) => {\n        if (detailsClick) {\n            return 'details';\n        } else {\n            const children = Array.from(e.target.closest('tr').children);\n            const clickedCell = children.filter((child) => child.contains(e.target))[0];\n            return rawColumnNames[children.indexOf(clickedCell)];\n        }\n    };\n\n    const clean = () => {\n        setTableFilterState('');\n        setColumnFilterState({});\n        setSorterState({\n            column: '',\n            asc: true,\n        });\n    };\n\n    // computed\n\n    const genCols = Object.keys(passedItems[0] || {}).filter((el) => el.charAt(0) !== '_');\n\n    const rawColumnNames = fields ? fields.map((el) => el.key || el) : genCols;\n\n    const itemsDataColumns = rawColumnNames.filter((name) => genCols.includes(name));\n\n    useMemo(() => {\n        compData.columnFiltered++;\n    }, [\n        JSON.stringify(columnFilter),\n        JSON.stringify(columnFilterState),\n        itemsDataColumns.join(''),\n        compData.changeItems,\n    ]);\n\n    const columnFiltered = useMemo(() => {\n        let items = passedItems;\n        if (columnFilter && columnFilter.external) {\n            return items;\n        }\n        Object.entries(columnFilterState).forEach(([key, value]) => {\n            const columnFilter = String(value).toLowerCase();\n            if (columnFilter && itemsDataColumns.includes(key)) {\n                items = items.filter((item) => {\n                    return slugify(String(item[key]).toLowerCase()).includes(columnFilter);\n                });\n            }\n        });\n        return items;\n    }, [compData.columnFiltered]);\n\n    const tableFiltered = useMemo(() => {\n        let items = columnFiltered;\n        if (!tableFilterState || (tableFilter && tableFilter.external)) {\n            return items;\n        }\n        const filter = tableFilterState.toLowerCase();\n        const valueContainFilter = (val) => String(val).toLowerCase().includes(filter);\n        items = items.filter((item) => {\n            return !!itemsDataColumns.find((key) => valueContainFilter(item[key]));\n        });\n        return items;\n    }, [compData.columnFiltered, tableFilterState, JSON.stringify(tableFilter)]);\n\n    const sortedItems = useMemo(() => {\n        const col = sorterState.column;\n\n        if (!col || !itemsDataColumns.includes(col) || (sorter && sorter.external)) {\n            return tableFiltered;\n        }\n        //if values in column are to be sorted by numeric value they all have to be type number\n        const flip = sorterState.asc ? 1 : -1;\n        const sorted = tableFiltered.slice().sort((item, item2) => {\n            const value = item[col];\n            const value2 = item2[col];\n            const a = typeof value === 'number' ? value : String(value).toLowerCase();\n            const b = typeof value2 === 'number' ? value2 : String(value2).toLowerCase();\n            return a > b ? 1 * flip : b > a ? -1 * flip : 0;\n        });\n        return sorted;\n    }, [JSON.stringify(tableFiltered), JSON.stringify(sorterState), JSON.stringify(sorter)]);\n\n    useEffect(() => {\n        !compData.firstRun && onFilteredItemsChange && onFilteredItemsChange(sortedItems);\n    }, [JSON.stringify(sortedItems)]);\n\n    const tableClasses = [\n        'table',\n        {\n            [`table-${size}`]: size,\n            'table-dark': dark,\n            'table-striped': striped,\n            'table-hover': hover,\n            'table-bordered': border,\n            'border': outlined,\n        },\n        addTableClasses,\n    ];\n\n    const columnNames = useMemo(() => {\n        if (fields) {\n            return fields.map((f) => {\n                return f.label !== undefined ? f.label : pretifyName(f.key || f);\n            });\n        }\n        return rawColumnNames.map((el) => pretifyName(el));\n    }, [fields, rawColumnNames]);\n\n    const sortingIconStyles = sorter && 'position-relative pr-4';\n\n    const colspan = rawColumnNames.length;\n\n    const totalPages = Math.ceil(sortedItems.length / perPageItems) || 1;\n    useMemo(() => {\n        !compData.firstRun && onPagesChange && onPagesChange(totalPages);\n    }, [totalPages]);\n\n    const computedPage = useMemo(() => {\n        const compPage = pagination ? page : activePage;\n        !compData.firstRun && onPageChange && onPageChange(compPage);\n        return compPage;\n    }, [page, activePage, pagination]);\n\n    const firstItemIndex = (computedPage - 1) * perPageItems || 0;\n    const paginatedItems = sortedItems.slice(firstItemIndex, firstItemIndex + perPageItems);\n    const currentItems = computedPage ? paginatedItems : sortedItems;\n\n    const tableFilterData = {\n        label: (tableFilter && tableFilter.label) || 'Filter:',\n        placeholder: (tableFilter && tableFilter.placeholder) || 'type string...',\n    };\n\n    const paginationSelect = {\n        label: (itemsPerPageSelect && itemsPerPageSelect.label) || 'Items per page:',\n        values: (itemsPerPageSelect && itemsPerPageSelect.values) || [5, 10, 20, 50],\n    };\n\n    const noItemsText = (() => {\n        const customValues = noItemsView || {};\n        if (passedItems.length) {\n            return customValues.noResults || 'No filtering results';\n        }\n        return customValues.noItems || 'No items';\n    })();\n\n    const isFiltered = tableFilterState || sorterState.column || Object.values(columnFilterState).join('');\n\n    const cleanerProps = {\n        content: cilFilterX,\n        className: `mfs-2 ${isFiltered ? 'text-danger' : 'transparent'}`,\n        role: isFiltered ? 'button' : null,\n        tabIndex: isFiltered ? 0 : null,\n    };\n\n    // watch\n    useMemo(() => setPerPageItems(itemsPerPage), [itemsPerPage]);\n\n    useMemo(() => setSorterState({ ...sorterValue }), [sorterValue]);\n\n    useMemo(() => setTableFilterState(tableFilterValue), [tableFilterValue]);\n\n    useMemo(() => setColumnFilterState({ ...columnFilterValue }), [columnFilterValue]);\n\n    //items\n    useMemo(() => {\n        if (\n            items &&\n            !compData.firstRun &&\n            (items.length !== passedItems.length || JSON.stringify(items) !== JSON.stringify(passedItems))\n        ) {\n            setPassedItems(items);\n            compData.changeItems++;\n        }\n    });\n\n    // render\n    compData.firstRun = false;\n\n    const paginationProps = typeof pagination === 'object' ? pagination : null;\n\n    const headerContent = (\n        <Tr className=\"card-body\">\n            {columnNames.map((name, index) => {\n                return (\n                    <Th\n                        onClick={() => {\n                            changeSort(rawColumnNames[index], index);\n                        }}\n                        className={classNames([headerClass(index), sortingIconStyles])}\n                        style={headerStyles(index)}\n                        key={index}\n                    >\n                        {columnHeaderSlot[`${rawColumnNames[index]}`] || <div className=\"d-inline\">{name}</div>}\n                        {isSortable(index) &&\n                            ((sortingIconSlot && sortingIconSlot(getIconState(index), iconClasses(index))) || (\n                                <CIcon\n                                    customClasses={classNames(iconClasses(index))}\n                                    width={18}\n                                    content={cilArrowTop}\n                                />\n                            ))}\n                    </Th>\n                );\n            })}\n        </Tr>\n    );\n\n    return (\n        <React.Fragment>\n            <div ref={innerRef}>\n                {(itemsPerPageSelect || tableFilter || cleaner) && (\n                    <div className=\"row my-2 mx-0\">\n                        {(tableFilter || cleaner) && (\n                            <div className=\"col-sm-6 form-inline p-0 c-datatable-filter\">\n                                {tableFilter && (\n                                    <>\n                                        <label className=\"mfe-2\">{tableFilterData.label}</label>\n                                        <input\n                                            className=\"form-control\"\n                                            type=\"text\"\n                                            placeholder={tableFilterData.placeholder}\n                                            onInput={(e) => {\n                                                tableFilterChange(e.target.value, 'input');\n                                            }}\n                                            onChange={(e) => {\n                                                tableFilterChange(e.target.value, 'change');\n                                            }}\n                                            value={tableFilterState || ''}\n                                            aria-label=\"table filter input\"\n                                        />\n                                    </>\n                                )}\n                                {cleaner &&\n                                    (typeof cleaner === 'function' ? (\n                                        cleaner(clean, isFiltered, cleanerProps)\n                                    ) : (\n                                        <CIcon\n                                            {...cleanerProps}\n                                            onClick={clean}\n                                            onKeyUp={(event) => {\n                                                if (event.key === 'Enter') clean();\n                                            }}\n                                        />\n                                    ))}\n                            </div>\n                        )}\n                        {itemsPerPageSelect && (\n                            <div className={`col-sm-6 p-0 ${tableFilter || cleaner ? '' : 'offset-sm-6'}`}>\n                                <div className=\"form-inline justify-content-sm-end c-datatable-items-per-page\">\n                                    <label className=\"mfe-2\">{paginationSelect.label}</label>\n                                    <select\n                                        className=\"form-control\"\n                                        onChange={paginationChange}\n                                        aria-label=\"changes number of visible items\"\n                                        value={perPageItems}\n                                    >\n                                        {paginationSelect.values.map((number, key) => {\n                                            return (\n                                                <option val={number} key={key}>\n                                                    {number}\n                                                </option>\n                                            );\n                                        })}\n                                    </select>\n                                </div>\n                            </div>\n                        )}\n                    </div>\n                )}\n            </div>\n\n            {overTableSlot}\n\n            <div className={`position-relative ${responsive && 'table-responsive'}`}>\n                {isMobile && columnFilter && (\n                    <div className=\"mb-5 mt-3\">\n                        {rawColumnNames.map((colName, index) => {\n                            return (\n                                <div>\n                                    {columnFilterSlot[`${rawColumnNames[index]}`] ||\n                                        ((!fields || fields[index].filter !== false) && (\n                                            <div className=\"mb-3\">\n                                                <CLabel\n                                                    htmlFor=\"code\"\n                                                    className={classNames(headerClass(index))}\n                                                    key={index}\n                                                >\n                                                    {fields[index].label}\n                                                </CLabel>\n                                                <input\n                                                    className=\"form-control form-control-sm\"\n                                                    onInput={(e) => {\n                                                        columnFilterEvent(colName, e.target.value, 'input');\n                                                    }}\n                                                    onChange={(e) => {\n                                                        columnFilterEvent(colName, e.target.value, 'change');\n                                                    }}\n                                                    value={columnFilterState[colName] || ''}\n                                                    aria-label={`column name: '${colName}' filter input`}\n                                                />\n                                            </div>\n                                        ))}\n                                </div>\n                            );\n                        })}\n                    </div>\n                )}\n                <Table className={classNames(tableClasses)}>\n                    {!isMobile ? (\n                        <Thead>\n                            <React.Fragment>\n                                {theadTopSlot}\n                                {header && headerContent}\n                                {columnFilter && (\n                                    <Tr className=\"table-sm\">\n                                        {rawColumnNames.map((colName, index) => {\n                                            return (\n                                                <Th className={classNames(headerClass(index))} key={index}>\n                                                    {columnFilterSlot[`${rawColumnNames[index]}`] ||\n                                                        ((!fields || fields[index].filter !== false) && (\n                                                            <input\n                                                                className=\"form-control form-control-sm\"\n                                                                onInput={(e) => {\n                                                                    columnFilterEvent(colName, e.target.value, 'input');\n                                                                }}\n                                                                onChange={(e) => {\n                                                                    columnFilterEvent(\n                                                                        colName,\n                                                                        e.target.value,\n                                                                        'change',\n                                                                    );\n                                                                }}\n                                                                value={columnFilterState[colName] || ''}\n                                                                aria-label={`column name: '${colName}' filter input`}\n                                                            />\n                                                        ))}\n                                                </Th>\n                                            );\n                                        })}\n                                    </Tr>\n                                )}\n                            </React.Fragment>\n                        </Thead>\n                    ) : (\n                        <Thead>{header && headerContent}</Thead>\n                    )}\n                    <Tbody style={clickableRows && { cursor: 'pointer' }}>\n                        {currentItems.map((item, itemIndex) => {\n                            return (\n                                <React.Fragment key={itemIndex}>\n                                    <Tr\n                                        className={classNames(item._classes)}\n                                        tabIndex={clickableRows && 0}\n                                        onClick={(e) => {\n                                            rowClicked(item, itemIndex + firstItemIndex, e);\n                                        }}\n                                    >\n                                        {rawColumnNames.map((colName, index) => {\n                                            return (\n                                                (scopedSlots[colName] &&\n                                                    React.cloneElement(\n                                                        scopedSlots[colName](item, itemIndex + firstItemIndex),\n                                                        { key: index },\n                                                    )) || (\n                                                    <Td\n                                                        className={classNames(cellClass(item, colName, index))}\n                                                        key={index}\n                                                    >\n                                                        {String(item[colName])}\n                                                    </Td>\n                                                )\n                                            );\n                                        })}\n                                    </Tr>\n                                    {scopedSlots.details && (\n                                        <Tr\n                                            onClick={(e) => {\n                                                rowClicked(item, itemIndex + firstItemIndex, e, true);\n                                            }}\n                                            className=\"p-0\"\n                                            style={{ border: 'none !important' }}\n                                            key={'details' + itemIndex}\n                                        >\n                                            <Td colSpan={colspan} className=\"p-0\" style={{ border: 'none !important' }}>\n                                                {scopedSlots.details(item, itemIndex + firstItemIndex)}\n                                            </Td>\n                                        </Tr>\n                                    )}\n                                </React.Fragment>\n                            );\n                        })}\n                        {!currentItems.length && (\n                            <Tr className=\"card-body\">\n                                <Td colSpan={colspan}>\n                                    {noItemsViewSlot || (\n                                        <div className=\"text-center my-5\">\n                                            <h2>\n                                                {noItemsText + ' '}\n                                                <CIcon\n                                                    width=\"30\"\n                                                    name=\"cilBan\"\n                                                    content={cilBan}\n                                                    className=\"text-danger mb-2\"\n                                                />\n                                            </h2>\n                                        </div>\n                                    )}\n                                </Td>\n                            </Tr>\n                        )}\n                    </Tbody>\n                    {footer && currentItems.length > 0 && <tfoot>{headerContent}</tfoot>}\n                    {footerSlot}\n                    {captionSlot}\n                </Table>\n                {loading &&\n                    (loadingSlot || (\n                        <CElementCover\n                            boundaries={[\n                                { sides: ['top'], query: 'td' },\n                                { sides: ['bottom'], query: 'tbody' },\n                            ]}\n                        />\n                    ))}\n            </div>\n\n            {underTableSlot}\n\n            {pagination && (\n                <CPagination\n                    style={{ display: totalPages > 1 ? 'inline' : 'none' }}\n                    onActivePageChange={(page) => {\n                        setPage(page);\n                    }}\n                    pages={totalPages}\n                    activePage={page}\n                    {...paginationProps}\n                />\n            )}\n        </React.Fragment>\n    );\n};\n\nAdvancedTable.propTypes = {\n    //\n    innerRef: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n    overTableSlot: PropTypes.node,\n    columnHeaderSlot: PropTypes.object,\n    sortingIconSlot: PropTypes.func,\n    columnFilterSlot: PropTypes.object,\n    noItemsViewSlot: PropTypes.node,\n    noItemsView: PropTypes.object,\n    captionSlot: PropTypes.node,\n    footerSlot: PropTypes.node,\n    underTableSlot: PropTypes.node,\n    scopedSlots: PropTypes.object,\n    theadTopSlot: PropTypes.node,\n    loadingSlot: PropTypes.node,\n    loading: PropTypes.bool,\n    fields: PropTypes.array,\n    pagination: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n    activePage: PropTypes.number,\n    itemsPerPage: PropTypes.number,\n    items: PropTypes.array,\n    sorter: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n    clickableRows: PropTypes.bool,\n    columnFilter: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n    tableFilterValue: PropTypes.string,\n    tableFilter: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n    cleaner: PropTypes.oneOfType([PropTypes.bool, PropTypes.func]),\n    addTableClasses: PropTypes.oneOfType([PropTypes.string, PropTypes.array, PropTypes.object]),\n    size: PropTypes.string,\n    dark: PropTypes.bool,\n    striped: PropTypes.bool,\n    hover: PropTypes.bool,\n    border: PropTypes.bool,\n    outlined: PropTypes.bool,\n    responsive: PropTypes.bool,\n    footer: PropTypes.bool,\n    itemsPerPageSelect: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n    sorterValue: PropTypes.object,\n    columnFilterValue: PropTypes.object,\n    header: PropTypes.bool,\n    onRowClick: PropTypes.func,\n    onSorterValueChange: PropTypes.func,\n    onPaginationChange: PropTypes.func,\n    onColumnFilterChange: PropTypes.func,\n    onPagesChange: PropTypes.func,\n    onTableFilterChange: PropTypes.func,\n    onPageChange: PropTypes.func,\n    onFilteredItemsChange: PropTypes.func,\n};\n\nAdvancedTable.defaultProps = {\n    itemsPerPage: 10,\n    responsive: true,\n    columnHeaderSlot: {},\n    columnFilterSlot: {},\n    scopedSlots: {},\n    sorterValue: {},\n    header: true,\n};\n\nexport default AdvancedTable;\n"]},"metadata":{},"sourceType":"module"}